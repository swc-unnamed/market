model Entity {
  id           String               @id @default(cuid())
  name         String
  type         String
  combineUid   String               @unique
  combineHref  String
  combineData  Json                 @db.JsonB
  imageSmall   String
  imageLarge   String
  ledgers      EntityLedger[]
  auctionItems AuctionListingItem[]

  @@map("entities")
}

model EntityLedger {
  id        String           @id @default(cuid())
  entityId  String
  entity    Entity           @relation(fields: [entityId], references: [id])
  type      EntityLedgerType
  value     String
  timestamp DateTime         @default(now())

  @@index([entityId], name: "idx_entity_ledgers_entity_id")
  @@index([timestamp], name: "idx_entity_ledgers_timestamp")
  @@map("entity_ledgers")
}
